<html lang="de">
        <head id="head">

        </head>
        <body>
            <div class="container">
                <section>
                    <article id="article1">
                        <h1 id="title-article1">

                        </h1>
                        <p id = "content-article1">

                        </p>
                    </article>

                </section>
            </div>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
            <script src="classes.js"></script>
			
            <script type="text/javascript">
                    function getAllStationsInRadius(lat, lng, radius)
                    {
                        var API_Key = '2a83e75cf3ceb116f8f70a553586d9d0'
                        var listOfChargepoints;
                        var radius = radius;
                        var lat = lat;
                        var lng = lng;
                        var getJSON = function(url) {
                            return new Promise(function(resolve, reject) {
                              var xhr = new XMLHttpRequest();
                              xhr.open('get', url, true);
                              xhr.responseType = 'json';
                              xhr.onload = function() {
                                var status = xhr.status;
                                if (status == 200) {
                                  resolve(xhr.response);
                                } else {
                                  reject(status);
                                }
                              };
                              xhr.send();
                            });
                        };
                        getJSON('https://api.goingelectric.de/chargepoints/?key='+API_Key+
                            '&lng=' + lng + '&lat=' + lat + '&radius=' + radius +'&orderby=distance').then(function(data) {
                            listOfChargepoints = ""
                            for (var i = data.chargelocations.length - 1; i >= 0; i--) {
                                listOfChargepoints += data.chargelocations[i].ge_id;
                            }
                            document.getElementById("title-article1").innerHTML = listOfChargepoints;
                            }, function(status) { //error detection....
                              alert('Something went wrong.');
                            });
                        return listOfChargepoints;
                    }

                
                $(function(){
                    getAllStationsInRadius("49.012824","12.488927","5");
                });



            </script>
        </body>
        <footer id="footer">
            
        </footer>
</html>